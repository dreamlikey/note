### 索引结构

##### B-树

##### B+树

### 索引类型

Mysql的索引是引擎级别的概念，不同的存储引擎索引结构不一样

#### **InnODB**

使用B+Tree作为索引数据结构，数据与索引存方在一个文件中，叶子节点的data域保存了完整的数据，这种索引称为**聚集索引**也叫**主键索引**（索引的关键字key是主键）

##### 聚集索引



##### 辅助索引



#### **MyISAM**

使用B+Tree作为索引数据结构，数据与索引分开存放在两个不同文件中，叶子节点的data域存放的是数据存放的物理地址。

##### 非聚集索引



### 索引命中规则

**最左匹配原则**

mysql的索引可以以一定顺序引用多个列，这种索引称为联合索引，

一般的，一个联合索引是一个有序元组<a1, a2, …, an>，其中各个元素均为数据表的一列。另外，单列索引可以看成联合索引元素数为1的特例。索引匹配的最左原则具体是说，假如索引列分别为A，B，C，顺序也是A，B，C：

```text
- 那么查询的时候，如果查询【A】【A，B】 【A，B，C】，那么可以通过索引查询
- 如果查询的时候，采用【A，C】，那么C这个虽然是索引，但是由于中间缺失了B，因此C这个索引是用不到的，只能用到A索引
- 如果查询的时候，采用【B】 【B，C】 【C】，由于没有用到第一列索引，不是最左前缀，那么后面的索引也是用不到了
- 如果查询的时候，采用范围查询，并且是最左前缀，也就是第一列索引，那么可以用到索引，但是范围后面的列无法用到索引
```